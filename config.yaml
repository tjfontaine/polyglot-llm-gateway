server:
  port: 8080

storage:
  type: sqlite
  sqlite:
    path: /app/data/conversations.db

apps:
  - name: playground
    frontdoor: openai
    path: /openai
    model_routing:
      prefix_providers:
        openai: openai
        anthropic: anthropic
      rewrites:
        - model_exact: claude-haiku-4.5
          provider: openai
          model: gpt-5-mini
          rewrite_response_model: true
    models:
      - id: claude-haiku-4.5
        object: model
        owned_by: gateway
      - id: claude-sonnet-alpha
        object: model
        owned_by: gateway
  - name: claude
    frontdoor: anthropic
    path: /claude
    model_routing:
      fallback:
        provider: openai
        model: gpt-5-mini
      rewrites:
        - model_exact: claude-haiku-4.5
          provider: openai
          model: gpt-5-mini
          rewrite_response_model: true
        - model_prefix: claude-sonnet-
          provider: openai
          model: gpt-5-mini
          rewrite_response_model: true

providers:
  - name: openai
    type: openai
    api_key: ${OPENAI_API_KEY}
  
  - name: anthropic
    type: anthropic
    api_key: ${ANTHROPIC_API_KEY}

routing:
  rules:
    - model_prefix: "claude"
      provider: anthropic
    
    - model_prefix: "gpt"
      provider: openai
  
  default_provider: openai
