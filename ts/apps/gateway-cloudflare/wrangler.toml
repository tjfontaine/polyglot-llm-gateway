name = "polyglot-llm-gateway"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Development settings
[dev]
port = 8787

# KV Namespaces
[[kv_namespaces]]
binding = "CONFIG_KV"
id = "placeholder-config-kv-id"

[[kv_namespaces]]
binding = "AUTH_KV"
id = "placeholder-auth-kv-id"

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "polyglot-gateway"
database_id = "placeholder-d1-id"

# Queue for usage events
[[queues.producers]]
binding = "USAGE_QUEUE"
queue = "polyglot-usage"

# R2 for large response storage (optional)
[[r2_buckets]]
binding = "R2_STORAGE"
bucket_name = "polyglot-storage"

[vars]
ENVIRONMENT = "development"

# Staging environment
[env.staging]
name = "polyglot-llm-gateway-staging"
vars = { ENVIRONMENT = "staging" }

# Production environment
[env.production]
name = "polyglot-llm-gateway-production"
vars = { ENVIRONMENT = "production" }
